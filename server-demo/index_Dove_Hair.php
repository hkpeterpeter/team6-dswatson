
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
<!--    <link rel="icon" href="../../../../favicon.ico">-->

    <title>ASW</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/dashboard.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
     <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
     <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
     <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
     <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" type="text/css">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">



    <script>
    document.onkeydown=function(evt){
        var keyCode = evt ? (evt.which ? evt.which : evt.keyCode) : event.keyCode;
        if(keyCode == 13)
        {
            //your function call here
            document.test.submit();
        }
    }

</script>
<style>

body, p {
        font-family: "Lato", sans-serif;
        font-size: 16px;
        }


</style>

  </head>
  <body>
    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
      <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="index_3.php">ASW</a>


      <input class="form-control form-control-dark w-100" type="text" placeholder="Type Here to Search" aria-label="Search">

<!-- <form  name="test" action="#" method="POST"><input class="form-control form-control-dark w-100"  type="text" placeholder="Search"  name="search" aria-label="Search" /></form> -->

      <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
          <a class="nav-link" href="#">About</a>
        </li>
      </ul>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
          <div class="sidebar-sticky">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link active" href="#">
                     <!--<span data-feather="home"></span>Products<span class="sr-only">(current)</span>-->
                </a>
              </li>

              <!--Loop and display level one menu-->
              <ul class="nav navbar-nav">

<a href="#" class="nav-link" data-toggle="dropdown" > <span>   - </span></a>



                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-heart" aria-hidden="true"></i> </span> Unilever</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Dove</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="index_dove_Bath.php">
                                            <span data-feather="file"></span>
                                            Bath                                          </a>
                                        </li>



                                        <li class="nav-item">
                                          <a class="nav-link" href="index_dove_Hair.php">
                                            <span data-feather="file"></span>
                                            Hair                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-paint-brush" aria-hidden="true"></i> </span> Colgate</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Toothpaste</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Toothpaste                                          </a>
                                        </li>


                                                                    </ul>

                            <a href="#" class="nav-link" data-toggle="dropdown" >Toothbrush</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Toothbrush                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-heart" aria-hidden="true"></i> </span> Shiseido</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Za</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Fundation                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-heart" aria-hidden="true"></i> </span> Coca Cola</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Coca Cola</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Coca Cola                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-apple" aria-hidden="true"></i> </span> Apple</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Apple</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Apple                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-microchip " aria-hidden="true"></i> </span> IBM</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >IBM</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            IBM                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-laptop" aria-hidden="true"></i> </span> Microsoft</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Microsoft</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Microsoft                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-mobile" aria-hidden="true"></i> </span> Samsung</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Samsung</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Samsung                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-book" aria-hidden="true"></i> </span> Amazon</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Amazon</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Amazon                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-heart" aria-hidden="true"></i> </span> Disney</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Disney</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Disney                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-database" aria-hidden="true"></i> </span> Oracle</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Oracle</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Oracle                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>

                  <li class="dropdown">
                    <a href="#" class="nav-link" data-toggle="dropdown" > <span>    <i class="fa fa-heart" aria-hidden="true"></i> </span> Zara</a>
                    <ul class="dropdown-menu" role="menu">

                      <!--Loop and display level two menu-->


                            <a href="#" class="nav-link" data-toggle="dropdown" >Zara</a>
                            <ul class="dropdown-menu" role="menu">

                              <!--Loop and display level three menu-->


                                        <li class="nav-item">
                                          <a class="nav-link" href="#">
                                            <span data-feather="file"></span>
                                            Zara                                          </a>
                                        </li>


                                                                    </ul>
                                                        </ul>
                        </li>
                                        </ul>

          </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
            <h1 class="h2">Dove - Hair: Profit/Price</h1>
            <div class="btn-toolbar mb-2 mb-md-0">

            </div>
          </div>

          <!--<canvas class="my-4" id="myChart" width="900" height="380"></canvas>-->


<!--   End append -->
          <!-- Graphs -->
          <div position="top">

  <img id="upImg" src="price_elastic.png" style="width:700px;" />

  <table id="bottomVis">
    <tr>
      <td>
    <h3>Demand Curve: Quantity(x-axis)  |  Profit(y-axis) </h3>
  </td>
  </tr>
    <tr>
      <td>

            <svg width="500" height="350"></svg>

      </td>
      <td>
        <h3>Current:</h3>
        <h4 style="color:red;" id="labelQCurrent">Q:</h4>
        <h4 style="color:red;" id="labelPCurrent">P:</h4>


        <h3>Optimal:</h3>
        <h4 style="color:green;" id="labelQOptimal">Q:</h4>
        <h4 style="color:green;" id="labelPOptimal">P:</h4>

        <h3>Target:</h3>
        <h4 style="color:purple;" id="labelQTarget">Q:</h4>
        <h4 style="color:purple;" id="labelPTarget">P:</h4>


      </td>
    </tr>
  </table>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script>

  $("#bottomVis").hide();
  $("#upImg").on("click", function(){
    $("#bottomVis").show();
  });

  //d3.select("body").transition()
    //  .style("background-color", "black");

  var svg = d3.select("svg"),
      margin = {top: 20, right: 20, bottom: 30, left: 50},
      width = +svg.attr("width") - margin.left - margin.right,
      height = +svg.attr("height") - margin.top - margin.bottom;


  /*let points = d3.range(1, 10).map(function(i) {
      return [i * width / 10, 50 + Math.random() * (height - 100)];
  });
  */

  let points = [
  	[0,100],
  	[1,200],
  	[2,500],
  	[3,300]
  	,[4,600]
  	,[5,200]
  ];

  // Movable points
  let point = [2.5, 400];
  let point2 = [2, 500];
  let point3 = [3, 300];


  function mapToY(points, xx) {

    var yy = -1;
  	for (var i=0; i<points.length; i++) {
  		if ( points[i][0] > xx ) {

  			var x0 = points[i-1][0];
  			var y0 = points[i-1][1];
  			var x1 = points[i][0];
  			var y1 = points[i][1];

  			var yy = y0 + (xx-x0)*(y1-y0)/(x1-x0);

  			//var rangeY = point[i][1] - point[i-1][1];
  			//var rangeX = point[i][0] - point[i-1][0];
  			//var dx1 = inputX - point[i-1][0];
  			//var dx2 = point[i][0] - inputX;

  			console.log(" i: " + i + " x: " + xx + " y: " +  yy);
  			break;

  		}
  	}
  	return yy;
  }


  var x = d3.scaleLinear()
      .rangeRound([0, width]);

  var y = d3.scaleLinear()
      .rangeRound([height, 0]);

  var xAxis = d3.axisBottom(x),
      yAxis = d3.axisLeft(y);

  var line = d3.line()
      .x(function(d) { return x(d[0]); })
      .y(function(d) { return y(d[1]); });

  let drag = d3.drag()
          .on('start', dragstarted)
          .on('drag', dragged)
          .on('end', dragended);

  svg.append('rect')
      .attr('class', 'zoom')
      .attr('cursor', 'move')
      .attr('fill', 'none')
      .attr('pointer-events', 'all')
      .attr('width', width)
      .attr('height', height)
      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')

   var focus = svg.append("g")
                  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  x.domain(d3.extent(points, function(d) { return d[0]; }));
  y.domain(d3.extent(points, function(d) { return d[1]; }));

  focus.append("path")
      .datum(points)
      .attr("fill", "none")
      .attr("stroke", "steelblue")
      .attr("stroke-linejoin", "round")
      .attr("stroke-linecap", "round")
      .attr("stroke-width", 1.5)
      .attr("d", line);

  /*focus.append("path")
  	.datum([points[0], points[3]])
  	.attr("fill", "none")
  	.attr("stroke", "steelblue")
  	.attr("stroke-linejoin", "round")
  	.attr("stroke-linecap", "round")
  	.attr("stroke-width", 1.5)
  	.attr("d", line);*/

    // Point 1: control line 1
  	focus.append("path")
  			.datum( [  [0, point[1]], point ] )
  			.attr("id","controlLineY")
  			.attr("fill", "none")
  			.attr("stroke", "red")
  			.attr("stroke-linejoin", "round")
  			.attr("stroke-linecap", "round")
  			.attr("stroke-width", 1.5)
  			.attr("stroke-dasharray", "5,5")
  			.attr("d", line);


  // text labels
      $("#labelPCurrent").text("P: " + parseFloat(point[1]).toFixed(2) + "");
      $("#labelQCurrent").text("Q: " + parseFloat(point[0]).toFixed(2) + "");


      $("#labelPOptimal").text("P: " + parseFloat(point2[1]).toFixed(2) + "");
      $("#labelQOptimal").text("Q: " + parseFloat(point2[0]).toFixed(2) + "");

      $("#labelPTarget").text("P: " + parseFloat(point3[1]).toFixed(2) + "");
      $("#labelQTarget").text("Q: " + parseFloat(point3[0]).toFixed(2) + "");



  // Point 1: Extended control line 1
        focus.append("path")
      			.datum( [  [0, point[1]*0.95], [point[0], point[1]*0.95] ] )
      			.attr("id","controlExtendedLineY")
      			.attr("fill", "none")
      			.attr("stroke", "red")
      			.attr("stroke-linejoin", "round")
      			.attr("stroke-linecap", "round")
      			.attr("stroke-width", 1.5)
      			.attr("stroke-dasharray", "5,5")
      			.attr("d", line);



    // Point 1: control line 2
  	focus.append("path")
  					.datum( [  [point[0], 0] , point ] )
  					.attr("id","controlLineX")
  					.attr("fill", "none")
  					.attr("stroke", "red")
  					.attr("stroke-linejoin", "round")
  					.attr("stroke-linecap", "round")
  					.attr("stroke-width", 1.5)
  					.attr("stroke-dasharray", "5,5")
  					.attr("d", line);





    // Point 2: control line 1
    focus.append("path")
          	.datum( [  [0, point2[1]], point2 ] )
          	.attr("id","control2LineY")
          	.attr("fill", "none")
          	.attr("stroke", "green")
          	.attr("stroke-linejoin", "round")
          	.attr("stroke-linecap", "round")
          	.attr("stroke-width", 1.5)
          	.attr("stroke-dasharray", "5,15")
          	.attr("d", line);

     // Point 2: control line 2
    focus.append("path")
          					.datum( [  [point2[0], 0] , point2 ] )
          					.attr("id","control2LineX")
          					.attr("fill", "none")
          					.attr("stroke", "green")
          					.attr("stroke-linejoin", "round")
          					.attr("stroke-linecap", "round")
          					.attr("stroke-width", 1.5)
          					.attr("stroke-dasharray", "5,15")
          					.attr("d", line);

    // Point 2: control line 1
    focus.append("path")
            .datum( [  [0, point3[1]], point3 ] )
            .attr("id","control3LineY")
            .attr("fill", "none")
                          	.attr("stroke", "purple")
                          	.attr("stroke-linejoin", "round")
                          	.attr("stroke-linecap", "round")
                          	.attr("stroke-width", 1.5)
                          	.attr("stroke-dasharray", "5,15")
                          	.attr("d", line);

    // Point 2: control line 2
                    focus.append("path")
                          					.datum( [  [point3[0], 0] , point3 ] )
                          					.attr("id","control3LineX")
                          					.attr("fill", "none")
                          					.attr("stroke", "purple")
                          					.attr("stroke-linejoin", "round")
                          					.attr("stroke-linecap", "round")
                          					.attr("stroke-width", 1.5)
                          					.attr("stroke-dasharray", "5,15")
                          					.attr("d", line);







  // Movable circles
  focus.selectAll('circle')
      .data([point, point2, point3])
      .enter()
      .append('circle')
      .attr('r', 5.0)
      .attr('cx', function(d) { return x(d[0]);  })
      .attr('cy', function(d) { return y(d[1]); })
      .style('cursor', 'pointer')
      .style('fill', 'steelblue');
  focus.selectAll('circle').call(drag);







  focus.append('g')
      .attr('class', 'axis axis--x')
      .attr('transform', 'translate(0,' + height + ')')
      .call(xAxis);

  focus.append('g')
      .attr('class', 'axis axis--y')
      .call(yAxis);

  function dragstarted(d) {
      d3.select(this).raise().classed('active', true);
  }

  function dragged(d) {
      d[0] = x.invert(d3.event.x);
    	//d[1] = y.invert(d3.event.y);
  		d[1] = mapToY(points, d[0]);


      d3.select(this)
          .attr('cx', x(d[0]))
          .attr('cy', y(d[1]))
      focus.select('path').attr('d', line);


      // update labels
      $("#labelPCurrent").text("P: " + parseFloat(d[1]).toFixed(2) + "");
      $("#labelQCurrent").text("Q: " + parseFloat(d[0]).toFixed(2) + "");


  		focus.select('path#controlLineY').remove();
  		focus.append("path")
  				.datum( [  [0, point[1]], point ] )
  				.attr("id","controlLineY")
  				.attr("fill", "none")
  				.attr("stroke", "red")
  				.attr("stroke-linejoin", "round")
  				.attr("stroke-linecap", "round")
  				.attr("stroke-width", 1.5)
  				.attr("stroke-dasharray", "5,5")
  				.attr("d", line);

  focus.select('path#controlLineX').remove();
  				focus.append("path")
  								.datum( [  [point[0], 0] , point ] )
  								.attr("id","controlLineX")
  								.attr("fill", "none")
  								.attr("stroke", "red")
  								.attr("stroke-linejoin", "round")
  								.attr("stroke-linecap", "round")
  								.attr("stroke-width", 1.5)
  								.attr("stroke-dasharray", "5,5")
  								.attr("d", line);


                  // Point 1: Extended control line 1
                  focus.select('path#controlExtendedLineY').remove();
                        focus.append("path")
                      			.datum( [  [0, point[1]*0.95], [point[0], point[1]*0.95] ] )
                      			.attr("id","controlExtendedLineY")
                      			.attr("fill", "none")
                      			.attr("stroke", "red")
                      			.attr("stroke-linejoin", "round")
                      			.attr("stroke-linecap", "round")
                      			.attr("stroke-width", 1.5)
                      			.attr("stroke-dasharray", "5,5")
                      			.attr("d", line);


  }

  function dragended(d) {
      d3.select(this).classed('active', false);
  }

  </script>

          </div>


            <!--   End append -->



        </main>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/js/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>

    <!-- Icons -->
    <!--<script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script>
      feather.replace()
    </script>-->


  </body>
</html>
